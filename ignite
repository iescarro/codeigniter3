<?php

require __DIR__ . '/vendor/autoload.php';

use Symfony\Component\Console\Application;

$application = new Application();

$commands_dir = __DIR__ . '/application/libraries/commands';

if (is_dir($commands_dir)) {
  foreach (glob($commands_dir . '/*.php') as $filename) {
    require_once $filename;

    $class_name = 'CodeIgniter3\\Commands\\' . basename($filename, '.php');

    if (class_exists($class_name)) {
      $application->add(new $class_name());
    }
  }
}

$application->run();
